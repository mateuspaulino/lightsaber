{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_Lightsaber","_AudioEffect","$","document","querySelector","bind","lightSaber","Lightsaber","lightSaberElem","elem","audio","AudioEffect","createdPlayerRight","createdPlayerLeft","firstClick","addEventListener","state","elemimg","src","pathOff","setState","off","play","pathOn","on","Audio","muted","logMovement","window","DeviceOrientationEvent","event","movementGamma","gamma","movement","previousDirection","direction","innerHTML","./modulos/AudioEffect.js","./modulos/Lightsaber.js","2","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","this","_player","_on","_off","_right","_left","get","3","_elem","_elemimg","_pathOn","_pathOff"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _Lightsaber = require('./modulos/Lightsaber.js');\n\nvar _AudioEffect = require('./modulos/AudioEffect.js');\n\nvar $ = document.querySelector.bind(document);\n\nvar lightSaber = new _Lightsaber.Lightsaber();\nvar lightSaberElem = lightSaber.elem;\n\nvar audio = new _AudioEffect.AudioEffect();\n\nvar createdPlayerRight = null;\nvar createdPlayerLeft = null;\n\nvar firstClick = true;\n\nlightSaberElem.addEventListener('click', function () {\n\n    if (lightSaber.state) {\n        lightSaber.elemimg.src = lightSaber.pathOff;\n        lightSaber.setState(false);\n        audio.off.play();\n    } else {\n        lightSaber.elemimg.src = lightSaber.pathOn;\n        lightSaber.setState(true);\n        audio.on.play();\n    }\n\n    //I had to create / play some audios dynamically on the first click, because on mobile, some browsers do not accept to trigger audio, so it's a way to turn it on\n    if (firstClick) {\n        createdPlayerRight = new Audio('../audio/right.mp3');\n        createdPlayerRight.muted = true;\n\n        createdPlayerLeft = new Audio('../audio/left.mp3');\n        createdPlayerLeft.muted = true;\n\n        createdPlayerRight.play();\n        createdPlayerRight.play();\n\n        createdPlayerLeft.muted = false;\n        createdPlayerRight.muted = false;\n\n        firstClick = false;\n    }\n});\n\nvar logMovement = $('header h1');\n\nif (window.DeviceOrientationEvent) {\n    var sinal = 0;\n    window.addEventListener('deviceorientation', function (event) {\n        var movementGamma = event.gamma;\n        // console.log(movementGamma);\n        if (lightSaber.state) {\n            if (movementGamma > 25) {\n                // logMovement.innerHTML = \"direita\";\n                movement(\"right\");\n            } else if (movementGamma < -25) {\n                // logMovement.innerHTML = \"esquerda\";\n                movement(\"left\");\n            } else {\n                movement(\"stopped\");\n                // logMovement.innerHTML = \"parado\";\n            }\n        }\n    });\n}\n\nvar previousDirection = \"\";\n\nvar movement = function movement(direction) {\n\n    if (direction !== previousDirection) {\n        switch (direction) {\n            case \"on\":\n                lightSaber.setState(true);\n                audio.on.play();\n                break;\n            case \"off\":\n                lightSaber.setState(false);\n                audio.off.play();\n                logMovement.innerHTML = \"desligado\";\n                break;\n            case \"right\":\n                createdPlayerRight.play();\n                logMovement.innerHTML = \"direita\";\n                break;\n            case \"left\":\n                createdPlayerLeft.play();\n                logMovement.innerHTML = \"esquerda\";\n                break;\n            case \"stopped\":\n                logMovement.innerHTML = \"parado\";\n                break;\n            default:\n                lightSaber.setState(false);\n                audio.off.play();\n        }\n        previousDirection = direction;\n    }\n};\n\n},{\"./modulos/AudioEffect.js\":2,\"./modulos/Lightsaber.js\":3}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AudioEffect = exports.AudioEffect = function () {\n    function AudioEffect() {\n        _classCallCheck(this, AudioEffect);\n\n        var $ = document.querySelector.bind(document);\n        this._player = $('.audio#player');\n        this._on = $('.audio#on');\n        this._off = $('.audio#off');\n        this._right = $('.audio#right');\n        this._left = $('.audio#left');\n    }\n\n    _createClass(AudioEffect, [{\n        key: 'player',\n        get: function get() {\n            return this._player;\n        }\n    }, {\n        key: 'on',\n        get: function get() {\n            return this._on;\n        }\n    }, {\n        key: 'off',\n        get: function get() {\n            return this._off;\n        }\n    }, {\n        key: 'right',\n        get: function get() {\n            return this._right;\n        }\n    }, {\n        key: 'left',\n        get: function get() {\n            return this._left;\n        }\n    }]);\n\n    return AudioEffect;\n}();\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Lightsaber = exports.Lightsaber = function () {\n    function Lightsaber() {\n        _classCallCheck(this, Lightsaber);\n\n        var $ = document.querySelector.bind(document);\n        this._on = false;\n        this._elem = $('.lightsaber');\n        this._elemimg = $('.lightsaber img');\n        this._pathOn = \"./img/lightsaber-on.png\";\n        this._pathOff = \"./img/lightsaber.png\";\n    }\n\n    _createClass(Lightsaber, [{\n        key: 'setState',\n        value: function setState(state) {\n            this._on = state;\n        }\n    }, {\n        key: 'state',\n        get: function get() {\n            return this._on;\n        }\n    }, {\n        key: 'elem',\n        get: function get() {\n            return this._elem;\n        }\n    }, {\n        key: 'elemimg',\n        get: function get() {\n            return this._elemimg;\n        }\n    }, {\n        key: 'pathOn',\n        get: function get() {\n            return this._pathOn;\n        }\n    }, {\n        key: 'pathOff',\n        get: function get() {\n            return this._pathOff;\n        }\n    }]);\n\n    return Lightsaber;\n}();\n\n// export { Lightsaber as default}\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYXNzZXRzL2pzL21haW4uanMiLCJhcHAvYXNzZXRzL2pzL21vZHVsb3MvQXVkaW9FZmZlY3QuanMiLCJhcHAvYXNzZXRzL2pzL21vZHVsb3MvTGlnaHRzYWJlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7O0FBQ0E7O0FBRUEsSUFBSSxJQUFJLFNBQVMsYUFBVCxDQUF1QixJQUF2QixDQUE0QixRQUE1QixDQUFSOztBQUVBLElBQUksYUFBYSw0QkFBakI7QUFDQSxJQUFJLGlCQUFpQixXQUFXLElBQWhDOztBQUVBLElBQUksUUFBUSw4QkFBWjs7QUFFQSxJQUFJLHFCQUFxQixJQUF6QjtBQUNBLElBQUksb0JBQW9CLElBQXhCOztBQUVBLElBQUksYUFBYSxJQUFqQjs7QUFFQSxlQUFlLGdCQUFmLENBQWdDLE9BQWhDLEVBQXlDLFlBQVU7O0FBRS9DLFFBQUcsV0FBVyxLQUFkLEVBQW9CO0FBQ2hCLG1CQUFXLE9BQVgsQ0FBbUIsR0FBbkIsR0FBeUIsV0FBVyxPQUFwQztBQUNBLG1CQUFXLFFBQVgsQ0FBb0IsS0FBcEI7QUFDQSxjQUFNLEdBQU4sQ0FBVSxJQUFWO0FBQ0gsS0FKRCxNQUlLO0FBQ0QsbUJBQVcsT0FBWCxDQUFtQixHQUFuQixHQUF5QixXQUFXLE1BQXBDO0FBQ0EsbUJBQVcsUUFBWCxDQUFvQixJQUFwQjtBQUNBLGNBQU0sRUFBTixDQUFTLElBQVQ7QUFDSDs7QUFFRDtBQUNBLFFBQUcsVUFBSCxFQUFjO0FBQ1YsNkJBQXFCLElBQUksS0FBSixDQUFVLG9CQUFWLENBQXJCO0FBQ0EsMkJBQW1CLEtBQW5CLEdBQTJCLElBQTNCOztBQUVBLDRCQUFvQixJQUFJLEtBQUosQ0FBVSxtQkFBVixDQUFwQjtBQUNBLDBCQUFrQixLQUFsQixHQUEwQixJQUExQjs7QUFFQSwyQkFBbUIsSUFBbkI7QUFDQSwyQkFBbUIsSUFBbkI7O0FBRUEsMEJB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QU8sS0FBSyxHQUFaO0FBQ0g7Ozs0QkFFUztBQUNOLG1CQUFPLEtBQUssS0FBWjtBQUNIOzs7NEJBQ1k7QUFDVCxtQkFBTyxLQUFLLFFBQVo7QUFDSDs7OzRCQUNXO0FBQ1IsbUJBQU8sS0FBSyxPQUFaO0FBQ0g7Ozs0QkFDWTtBQUNULG1CQUFPLEtBQUssUUFBWjtBQUNIOzs7Ozs7QUFHTCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgeyBMaWdodHNhYmVyIH0gZnJvbSAnLi9tb2R1bG9zL0xpZ2h0c2FiZXIuanMnO1xuaW1wb3J0IHsgQXVkaW9FZmZlY3QgfSBmcm9tICcuL21vZHVsb3MvQXVkaW9FZmZlY3QuanMnO1xuXG5sZXQgJCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IuYmluZChkb2N1bWVudCk7XG5cbmxldCBsaWdodFNhYmVyID0gbmV3IExpZ2h0c2FiZXIoKTtcbmxldCBsaWdodFNhYmVyRWxlbSA9IGxpZ2h0U2FiZXIuZWxlbTtcblxubGV0IGF1ZGlvID0gbmV3IEF1ZGlvRWZmZWN0KCk7XG5cbmxldCBjcmVhdGVkUGxheWVyUmlnaHQgPSBudWxsO1xubGV0IGNyZWF0ZWRQbGF5ZXJMZWZ0ID0gbnVsbDtcblxubGV0IGZpcnN0Q2xpY2sgPSB0cnVlO1xuXG5saWdodFNhYmVyRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cbiAgICBpZihsaWdodFNhYmVyLnN0YXRlKXtcbiAgICAgICAgbGlnaHRTYWJlci5lbGVtaW1nLnNyYyA9IGxpZ2h0U2FiZXIucGF0aE9mZjtcbiAgICAgICAgbGlnaHRTYWJlci5zZXRTdGF0ZShmYWxzZSk7XG4gICAgICAgIGF1ZGlvLm9mZi5wbGF5KCk7XG4gICAgfWVsc2V7XG4gICAgICAgIGxpZ2h0U2FiZXIuZWxlbWltZy5zcmMgPSBsaWdodFNhYmVyLnBhdGhPbjtcbiAgICAgICAgbGlnaHRTYWJlci5zZXRTdGF0ZSh0cnVlKTsgICAgICAgIFxuICAgICAgICBhdWRpby5vbi5wbGF5KCk7XG4gICAgfVxuICAgIFxuICAgIC8vSSBoYWQgdG8gY3JlYXRlIC8gcGxheSBzb21lIGF1ZGlvcyBkeW5hbWljYWxseSBvbiB0aGUgZmlyc3QgY2xpY2ssIGJlY2F1c2Ugb24gbW9iaWxlLCBzb21lIGJyb3dzZXJzIGRvIG5vdCBhY2NlcHQgdG8gdHJpZ2dlciBhdWRpbywgc28gaXQncyBhIHdheSB0byB0dXJuIGl0IG9uXG4gICAgaWYoZmlyc3RDbGljayl7XG4gICAgICAgIGNyZWF0ZWRQbGF5ZXJSaWdodCA9IG5ldyBBdWRpbygnLi4vYXVkaW8vcmlnaHQubXAzJyk7XG4gICAgICAgIGNyZWF0ZWRQbGF5ZXJSaWdodC5tdXRlZCA9IHRydWU7XG4gICAgXG4gICAgICAgIGNyZWF0ZWRQbGF5ZXJMZWZ0ID0gbmV3IEF1ZGlvKCcuLi9hdWRpby9sZWZ0Lm1wMycpO1xuICAgICAgICBjcmVhdGVkUGxheWVyTGVmdC5tdXRlZCA9IHRydWU7XG4gICAgXG4gICAgICAgIGNyZWF0ZWRQbGF5ZXJSaWdodC5wbGF5KCk7XG4gICAgICAgIGNyZWF0ZWRQbGF5ZXJSaWdodC5wbGF5KCk7XG4gICAgXG4gICAgICAgIGNyZWF0ZWRQbGF5ZXJMZWZ0Lm11dGVkID0gZmFsc2U7XG4gICAgICAgIGNyZWF0ZWRQbGF5ZXJSaWdodC5tdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZpcnN0Q2xpY2sgPSBmYWxzZTtcbiAgICB9XG5cbn0pO1xuXG5sZXQgbG9nTW92ZW1lbnQgPSAkKCdoZWFkZXIgaDEnKTtcblxuaWYod2luZG93LkRldmljZU9yaWVudGF0aW9uRXZlbnQpe1xuICAgIGxldCBzaW5hbCA9IDA7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJyxmdW5jdGlvbihldmVudCl7IFxuICAgICAgICBsZXQgbW92ZW1lbnRHYW1tYSA9IGV2ZW50LmdhbW1hO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhtb3ZlbWVudEdhbW1hKTtcbiAgICAgICAgaWYobGlnaHRTYWJlci5zdGF0ZSl7XG4gICAgICAgICAgICBpZihtb3ZlbWVudEdhbW1hPjI1KXtcbiAgICAgICAgICAgICAgICAvLyBsb2dNb3ZlbWVudC5pbm5lckhUTUwgPSBcImRpcmVpdGFcIjtcbiAgICAgICAgICAgICAgICBtb3ZlbWVudChcInJpZ2h0XCIpO1xuICAgICAgICAgICAgfWVsc2UgaWYobW92ZW1lbnRHYW1tYTwtMjUpe1xuICAgICAgICAgICAgICAgIC8vIGxvZ01vdmVtZW50LmlubmVySFRNTCA9IFwiZXNxdWVyZGFcIjtcbiAgICAgICAgICAgICAgICBtb3ZlbWVudChcImxlZnRcIik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBtb3ZlbWVudChcInN0b3BwZWRcIik7XG4gICAgICAgICAgICAgICAgLy8gbG9nTW92ZW1lbnQuaW5uZXJIVE1MID0gXCJwYXJhZG9cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5sZXQgcHJldmlvdXNEaXJlY3Rpb24gPSBcIlwiO1xuXG5jb25zdCBtb3ZlbWVudCA9IChkaXJlY3Rpb24pID0+IHtcbiAgICBcbiAgICBpZihkaXJlY3Rpb24gIT09IHByZXZpb3VzRGlyZWN0aW9uKXtcbiAgICAgICAgc3dpdGNoKGRpcmVjdGlvbil7XG4gICAgICAgICAgICBjYXNlIFwib25cIjpcbiAgICAgICAgICAgICAgICBsaWdodFNhYmVyLnNldFN0YXRlKHRydWUpO1xuICAgICAgICAgICAgICAgIGF1ZGlvLm9uLnBsYXkoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm9mZlwiOlxuICAgICAgICAgICAgICAgIGxpZ2h0U2FiZXIuc2V0U3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGF1ZGlvLm9mZi5wbGF5KCk7XG4gICAgICAgICAgICAgICAgbG9nTW92ZW1lbnQuaW5uZXJIVE1MID0gXCJkZXNsaWdhZG9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgY3JlYXRlZFBsYXllclJpZ2h0LnBsYXkoKTtcbiAgICAgICAgICAgICAgICBsb2dNb3ZlbWVudC5pbm5lckhUTUwgPSBcImRpcmVpdGFcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgY3JlYXRlZFBsYXllckxlZnQucGxheSgpO1xuICAgICAgICAgICAgICAgIGxvZ01vdmVtZW50LmlubmVySFRNTCA9IFwiZXNxdWVyZGFcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICAgICAgICAgICAgbG9nTW92ZW1lbnQuaW5uZXJIVE1MID0gXCJwYXJhZG9cIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbGlnaHRTYWJlci5zZXRTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgYXVkaW8ub2ZmLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c0RpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICB9XG5cbn07XG5cbiIsImV4cG9ydCBjbGFzcyBBdWRpb0VmZmVjdCB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgbGV0ICQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yLmJpbmQoZG9jdW1lbnQpO1xuICAgICAgICB0aGlzLl9wbGF5ZXIgPSAkKCcuYXVkaW8jcGxheWVyJyk7XG4gICAgICAgIHRoaXMuX29uID0gJCgnLmF1ZGlvI29uJyk7XG4gICAgICAgIHRoaXMuX29mZiA9ICQoJy5hdWRpbyNvZmYnKTtcbiAgICAgICAgdGhpcy5fcmlnaHQgPSAkKCcuYXVkaW8jcmlnaHQnKTtcbiAgICAgICAgdGhpcy5fbGVmdCA9ICQoJy5hdWRpbyNsZWZ0Jyk7XG4gICAgfVxuICAgIGdldCBwbGF5ZXIoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXllcjtcbiAgICB9XG4gICAgZ2V0IG9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbjtcbiAgICB9XG4gICAgZ2V0IG9mZigpe1xuICAgICAgICByZXR1cm4gdGhpcy5fb2ZmO1xuICAgIH0gIFxuICAgIGdldCByaWdodCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fcmlnaHQ7XG4gICAgfSAgXG4gICAgZ2V0IGxlZnQoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnQ7XG4gICAgfSAgICAgIFxufVxuIiwiZXhwb3J0IGNsYXNzIExpZ2h0c2FiZXIge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIGxldCAkID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvci5iaW5kKGRvY3VtZW50KTtcbiAgICAgICAgdGhpcy5fb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZWxlbSA9ICQoJy5saWdodHNhYmVyJyk7XG4gICAgICAgIHRoaXMuX2VsZW1pbWcgPSAkKCcubGlnaHRzYWJlciBpbWcnKTtcbiAgICAgICAgdGhpcy5fcGF0aE9uID0gXCIuL2ltZy9saWdodHNhYmVyLW9uLnBuZ1wiO1xuICAgICAgICB0aGlzLl9wYXRoT2ZmID0gXCIuL2ltZy9saWdodHNhYmVyLnBuZ1wiO1xuICAgIH1cbiAgICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLl9vbiA9IHN0YXRlO1xuICAgIH1cbiAgICBnZXQgc3RhdGUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uO1xuICAgIH0gXG4gICAgICBcbiAgICBnZXQgZWxlbSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbTtcbiAgICB9IFxuICAgIGdldCBlbGVtaW1nKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtaW1nO1xuICAgIH0gXG4gICAgZ2V0IHBhdGhPbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aE9uO1xuICAgIH0gXG4gICAgZ2V0IHBhdGhPZmYoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGhPZmY7XG4gICAgfSAgICBcbn1cblxuLy8gZXhwb3J0IHsgTGlnaHRzYWJlciBhcyBkZWZhdWx0fSJdfQ==\n"]}